type: acceptance_test
buildName: git.hubteam.com-HubSpotProtected-Blazar-staging-BlazarExecutorAcceptanceTests
accessGroup: hs-paas-build-deploy
team: hs-paas-build-deploy
owners:
 - jgoodwin@hubspot.com

tests:
  test1:
    testType: JAVA
    image: docker.hubteam.com/hubspot/git.hubteam.com-hubspotprotected-wailmer-master-executor:latest
    cmd: "/usr/bin/java8 -jar /mnt/mesos/sandbox/app/target/BlazarExecutorAcceptanceTests-1.0-staging-SNAPSHOT-shaded.jar"
    # network: BRIDGE
    # daemon: false
    dockerParameters:
      privileged: true
      cap-add: NET_ADMIN
    #volumes:
    #  - hostPath: '$PWD/app/build-workspace'
    #    containerPath: /usr/share/hubspot/build/workspace
    #    mode: RW
    #  - hostPath: '/usr/share/hubspot/mesos/blazar_cache/blazar-tmp'
    #    containerPath: '/mnt/mesos/tmp/'
    #    mode: RW

# makes the log stay as service.log 5ever
env:
  all:
    ACCEPTANCE_TEST_IDS: ""
    HOST_PWD: "$PWD"
    CGROUP_PARENT: "mesos/$CGROUPS_GUID"
    HS_PAAS_BUILD_DEPLOY_VAULT_KEY: "$(cat /usr/share/hubspot/vault/hs-paas-build-deploy)"



servers:
  qa:
    - mesos
  prod:
    - mesos
