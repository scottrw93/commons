type: procfile

artifactBuildMetadata:
  organization: HubSpotProtected
  repository: Blazar
  module: BlazarService
  branch: staging

includeConfigs:
- BlazarV2AllServiceCommon

buildResolution:
  qa:
    strategy: LATEST_BUILD
  prod:
    strategy: NO_BUILD

logging:
  level: INFO
  loggers:
    "com.hubspot.blazar":
      level: DEBUG
  appenders:
  - type: console
  - type: sentry
    sentryDsn: https://2f002ad0745546b5b2b529461ca62349:a17da6ad912a4eec926c51a969925863@sentry.io/99138
    blazarRelease: "QA"


procfile:
  migrationStatus:
    type: ON_DEMAND
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarLiquibaseMigrationJob status
  migrationRun:
    type: ON_DEMAND
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarLiquibaseMigrationJob migrate
  migrationDryRun:
    type: ON_DEMAND
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarLiquibaseMigrationJob migrate -n

servers:
  qa:
  - mesos
  prod: []

blazarConfiguration:
  database:
    driverClass: com.mysql.jdbc.Driver
