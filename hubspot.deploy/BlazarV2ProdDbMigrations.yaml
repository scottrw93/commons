# HubSpot Deploy Settings
type: procfile
buildName: git.hubteam.com-HubSpotProtected-Blazar-master-BlazarService
includeConfigs:
  - BlazarV2AllServiceCommon

buildResolution:
  qa:
    strategy: NO_BUILD
  prod:
    strategy: LATEST_BUILD

logging:
  level: INFO
  loggers:
    "com.hubspot.blazar":
      level: DEBUG
  appenders:
    - type: console
    - type: sentry
      sentryDsn: https://bd961d5ec8ab4343bab62d569c962fe0:cbff3099aa3e47a2b9ca25888813028a@sentry.io/106295
      blazarRelease: "PROD"

procfile:
  migrationStatus:
    type: ON_DEMAND
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarService db status $CONFIG_YAML

  migrationRun:
    type: ON_DEMAND
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarService db migrate $CONFIG_YAML

servers:
  qa: []
  prod:
    - mesos

blazarConfiguration:
  database:
    driverClass: com.mysql.jdbc.Driver
    user: app_migration_bl
    password: ")HCg&RQ1*WNK"
    url: jdbc:mysql://db.blazarv2.hubteam.com:3306/BlazarV2
