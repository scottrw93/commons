type: procfile

appRoot: /orion/v3-staging

artifactBuildMetadata:
  repository: Orion
  module: OrionService
  branch: staging

slack:
- channelName: "#paas-b-d-notifs"

env:
  all:
    JAR_NAME: ./target/OrionService-executable.jar
    JVM_MAX_HEAP: 1024m

zkGroup: mesos:deploy:hs_staging:v3

team: hs-paas-build-deploy

procfile:
  dbmigrate:
    type: ON_DEMAND
    cmd: java-wrapper -Djava.net.preferIPv4Stack=true -jar $JAR_NAME db migrate $CONFIG_YAML
  fast-forward:
    cmd: java-wrapper -Djava.net.preferIPv4Stack=true -jar $JAR_NAME db fast-forward $CONFIG_YAML
    type: ON_DEMAND
  dbstatus:
    type: ON_DEMAND
    cmd: java-wrapper -Djava.net.preferIPv4Stack=true -jar $JAR_NAME db status $CONFIG_YAML

