type: procfile
includeConfigs:
  - BlazarV2QaSettings

procfile:
  # Cleans archived repos
  cleanMetadataCommand:
    type: SCHEDULED_JOB
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarService clean_repo_metadata $CONFIG_YAML
    schedule: "0 2 * * *"
  
  # Deletes old queue items
  eventQueueCleanCommand:
    type: SCHEDULED_JOB
    cmd: java-wrapper $EXTRA_ARGS -cp ./target/\* com.hubspot.blazar.BlazarService event_queue_clean $CONFIG_YAML
    schedule: "0 0 * * *"

servers:
  qa:
    - mesos
  prod: []
