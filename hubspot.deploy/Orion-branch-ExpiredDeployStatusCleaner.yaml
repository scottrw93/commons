type: procfile

includeConfigs:
  - Orion-common

artifactBuildMetadata:
  repository: Orion
  module: OrionExpiredDeployStatusCleaner
  branch: qa-deploys

env:
  all:
    JAR_NAME: ./target/OrionExpiredDeployStatusCleaner-executable.jar
    JVM_MAX_HEAP: 1024m

procfile:
  ExpiredDeployStatusCleaner:
    type: WORKER
    cmd: java-wrapper -Djava.net.preferIPv4Stack=true -jar $JAR_NAME expired-deploy-status-worker
    override:
      prod:
        resources:
          instances: 10
  ExpiredTokenCleaner:
    type: WORKER
    cmd: java-wrapper -Djava.net.preferIPv4Stack=true -jar $JAR_NAME expired-token-worker
